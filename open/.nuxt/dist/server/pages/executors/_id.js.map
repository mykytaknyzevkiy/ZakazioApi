{"version":3,"file":"pages/executors/_id.js","sources":["webpack:///./pages/executors/_id.vue?f6ee","webpack:///./pages/executors/_id.vue","webpack:///./pages/executors/_id.vue?936a","webpack:///./pages/executors/_id.vue?3cbc"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile\"},[_vm._ssrNode(\"<div class=\\\"container profile__container\\\"><div class=\\\"profile__side\\\"><div class=\\\"profile__avatar\\\"><h1 class=\\\"profile__executor\\\">\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.user.firstName + ' ' + _vm.user.lastName)+\"\\n        \")+\"</h1> <hr> <div class=\\\"profile__rate\\\">\"+_vm._ssrEscape(\"Рейтинг: \"+_vm._s(_vm.user.rate))+\"</div> <div class=\\\"profile__city\\\">\"+_vm._ssrEscape(\"Город: \"+_vm._s(_vm.city))+\"</div></div> <a href=\\\"https://crm.zakazy.online/login\\\" class=\\\"profile__order-btn\\\">Заказать работу</a></div> <div class=\\\"profile__area\\\"><div class=\\\"profile__tabs\\\"><button\"+(_vm._ssrClass(\"profile__tab\",{ profile__tab_active: _vm.TAB === _vm.TABS.PORTFOLIO }))+\">\\n          Портфолио\\n        </button></div> <div class=\\\"profile__portfolio\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.TAB === _vm.TABS.PORTFOLIO) ? '' : 'none' }))+\">\"+((_vm.portfolio.length > 0)?((_vm._ssrList((_vm.portfolio),function(pItem){return (\"<div class=\\\"profile__portfolio-item\\\"><img\"+(_vm._ssrAttr(\"src\",(_vm.storageUrl + \"/\" + (pItem.wallpaper))))+\" alt></div>\")}))):(\"<p class=\\\"profile__message\\\">Нет контента.</p>\"))+\"</div> <div class=\\\"profile__orders\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.TAB === _vm.TABS.PROJECTS) ? '' : 'none' }))+\">\\n        Нет контента.\\n      </div></div></div> <div\"+(_vm._ssrClass(\"profile__modal\",{ profile__modal_active: _vm.portfolioModal }))+\"><div class=\\\"container\\\">\"+((_vm.currentPortFolio !== null)?(\"<div class=\\\"profile__modal-content\\\"><div class=\\\"profile__modal-head\\\"><span>\"+_vm._ssrEscape(_vm._s(_vm.currentPortFolio.label))+\"</span> <button>x</button></div> <div class=\\\"profile__modal-body\\\"><div><img\"+(_vm._ssrAttr(\"src\",(_vm.storageUrl + \"/\" + (_vm.currentPortFolio.wallpaper))))+\" alt class=\\\"profile__modal-slide\\\"> <p>\"+_vm._ssrEscape(_vm._s(_vm.currentPortFolio.description))+\"</p></div> \"+(_vm._ssrList((_vm.currentPortFolio.imageSlides),function(slide){return (\"<div><img\"+(_vm._ssrAttr(\"src\",(_vm.storageUrl + \"/\" + slide)))+\" alt class=\\\"profile__modal-slide\\\"></div>\")}))+\"</div></div>\"):\"<!---->\")+\"</div></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* import UserOrderCard from '~/components/user/UserOrderCard'\nimport UserAvatar from '~/components/user/UserAvatar'\nimport UserFeedbacks from '~/components/user/UserFeedbacks' */\nconst TABS = {\n  PORTFOLIO: 'PORTFOLIO',\n  PROJECTS: 'PROJECTS',\n}\n/* const token =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZk5hbWUiOiJTdXBlciIsImxOYW1lIjoiQWRtaW4iLCJtTmFtZSI6Ilpha2F6eSIsImV4cCI6MTYxMzY5NjUxNn0.Tqqg2o1McKY_nblEt8odNfnLSWEfM-84A9GpDS6jz2E' */\nexport default {\n  // components: { UserFeedbacks, UserAvatar, UserOrderCard },\n  async asyncData({ error, $axios, route }) {\n    try {\n      const res = await $axios.get(`executor/${route.params.id}`)\n      const portfolioRes = await $axios.get(\n        `portfolio/list/user/${route.params.id}`\n        /* {\n          headers: {\n            Authorization: token,\n          },\n        } */\n      )\n      /* const userOrders = await $axios.get(\n        `/order/list/user/${route.params.id}?size=20&page=0`,\n        {\n          headers: {\n            Authorization: token,\n          },\n        }\n      ) */\n      return {\n        user: res.data.data,\n        portfolio: portfolioRes.data.data.content,\n        // orders: userOrders.data.data.content,\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-throw-literal\n      return error({ statusCode: 404, message: 'Профиль не найден' })\n    }\n  },\n  data() {\n    return {\n      TABS,\n      user: {},\n      portfolio: [],\n      portfolioModal: false,\n      TAB: TABS.PORTFOLIO,\n      showPortfolioId: null,\n    }\n  },\n  computed: {\n    city() {\n      return this.user?.city?.name || 'не указан'\n    },\n    currentPortFolio() {\n      return this.portfolio.find((i) => i.id === this.showPortfolioId) || null\n    },\n  },\n  mounted() {\n    window.addEventListener('keydown', (e) => {\n      if (e.code === 'Escape') {\n        this.hidePortfolio()\n      }\n    })\n  },\n  methods: {\n    hidePortfolio() {\n      const body = window.document.querySelector('body')\n      body.classList.remove('no-overflow')\n      this.portfolioModal = false\n      this.showPortfolioId = null\n    },\n    showPortfolio(id) {\n      this.showPortfolioId = id\n      const body = window.document.querySelector('body')\n      body.classList.add('no-overflow')\n      this.portfolioModal = true\n    },\n  },\n  head() {\n    return {\n      title: 'Исполнитель ' + this.user?.firstName + ' ' + this.user?.lastName,\n      meta: [\n        {\n          hid: 'description',\n          name: 'description',\n          content:\n            'Исполнитель ' + this.user?.firstName + ' ' + this.user?.lastName,\n        },\n      ],\n    }\n  },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_id.vue?vue&type=template&id=48b4e663&\"\nimport script from \"./_id.vue?vue&type=script&lang=js&\"\nexport * from \"./_id.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"eea6ddda\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAPA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AACA;AAaA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAHA;AAWA;AACA;AAnFA;;AC/FA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}